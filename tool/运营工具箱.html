<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Amazon è¿è¥å…¨èƒ½å·¥å…·ç®± (Pro V5.0)</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
	<style>
		:root {
			/* Palette - Dark Mode (Zinc/Slate) */
			--bg-body: #0c0c0e;
			--bg-card: #18181b;
			--bg-input: #09090b;
			--border-color: #27272a;
			--border-highlight: #3f3f46;

			--text-primary: #f4f4f5;
			--text-secondary: #a1a1aa;
			--text-muted: #52525b;

			--accent-blue: #3b82f6;
			--accent-blue-dim: rgba(59, 130, 246, 0.1);
			--accent-green: #10b981;
			--accent-green-dim: rgba(16, 185, 129, 0.1);
			--accent-orange: #f97316;
			--accent-red: #ef4444;
			--accent-purple: #a855f7;

			--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
			--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
			--shadow-glow: 0 0 15px rgba(59, 130, 246, 0.15);
		}

		* {
			box-sizing: border-box;
		}

		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
			background-color: var(--bg-body);
			color: var(--text-primary);
			margin: 0;
			padding: 40px 20px;
			line-height: 1.5;
			-webkit-font-smoothing: antialiased;
		}

		.container {
			max-width: 1000px;
			margin: 0 auto;
		}

		/* --- Header --- */
		header {
			text-align: center;
			margin-bottom: 40px;
		}

		h2 {
			margin: 0 0 10px 0;
			font-size: 32px;
			font-weight: 900;
			letter-spacing: -0.03em;
			background: linear-gradient(135deg, #fff 0%, #a1a1aa 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
		}

		.subtitle {
			color: var(--text-secondary);
			font-size: 14px;
			font-weight: 500;
			text-transform: uppercase;
			letter-spacing: 0.1em;
		}

		/* --- Tabs --- */
		.tabs-wrapper {
			display: flex;
			justify-content: center;
			margin-bottom: 30px;
		}

		.tabs {
			display: inline-flex;
			background: var(--bg-card);
			padding: 4px;
			border-radius: 12px;
			border: 1px solid var(--border-color);
			box-shadow: var(--shadow-sm);
		}

		.tab-btn {
			padding: 8px 20px;
			border: none;
			background: transparent;
			font-size: 14px;
			font-weight: 600;
			color: var(--text-secondary);
			cursor: pointer;
			border-radius: 8px;
			transition: all 0.2s ease;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.tab-btn .material-symbols-outlined {
			font-size: 18px;
		}

		.tab-btn.active {
			background-color: var(--accent-blue);
			color: #fff;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
		}

		.tab-btn:hover:not(.active) {
			color: var(--text-primary);
			background: var(--border-color);
		}

		.tab-content {
			display: none;
			animation: fadeIn 0.3s ease-out;
		}

		.tab-content.active {
			display: block;
		}

		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(10px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		/* --- Cards --- */
		.card {
			background: var(--bg-card);
			border-radius: 16px;
			border: 1px solid var(--border-color);
			box-shadow: var(--shadow-md);
			margin-bottom: 24px;
			overflow: hidden;
		}

		.card-header {
			padding: 20px 24px;
			border-bottom: 1px solid var(--border-color);
			display: flex;
			align-items: center;
			gap: 10px;
			font-weight: 700;
			font-size: 16px;
			color: var(--text-primary);
			background: rgba(255, 255, 255, 0.02);
		}

		.card-header .icon-box {
			width: 32px;
			height: 32px;
			border-radius: 8px;
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
		}

		.card-body {
			padding: 0;
		}

		.bg-blue-g {
			background: linear-gradient(135deg, #3b82f6, #2563eb);
		}

		.bg-purple-g {
			background: linear-gradient(135deg, #8b5cf6, #7c3aed);
		}

		.bg-orange-g {
			background: linear-gradient(135deg, #f97316, #ea580c);
		}

		.bg-green-g {
			background: linear-gradient(135deg, #10b981, #059669);
		}

		/* --- Tables --- */
		table {
			width: 100%;
			border-collapse: collapse;
		}

		th {
			background: rgba(0, 0, 0, 0.2);
			color: var(--text-secondary);
			font-size: 11px;
			text-transform: uppercase;
			letter-spacing: 0.05em;
			font-weight: 700;
			padding: 12px 16px;
			text-align: left;
			border-bottom: 1px solid var(--border-color);
		}

		td {
			padding: 12px 16px;
			border-bottom: 1px solid var(--border-color);
			font-size: 14px;
			color: var(--text-primary);
			vertical-align: middle;
		}

		tr:last-child td {
			border-bottom: none;
		}

		/* Specific Table Styles */
		.bid-group-row td {
			background: rgba(59, 130, 246, 0.02);
		}

		.strategy-cell {
			color: var(--text-primary);
			font-weight: 600;
			min-width: 140px;
		}

		.strategy-cell small {
			display: block;
			color: var(--text-secondary);
			font-weight: 400;
			font-size: 12px;
			margin-top: 2px;
		}

		/* --- Inputs --- */
		input,
		select {
			background: var(--bg-input);
			border: 1px solid var(--border-color);
			color: var(--text-primary);
			border-radius: 6px;
			padding: 8px 10px;
			font-family: 'JetBrains Mono', monospace;
			font-weight: 600;
			font-size: 14px;
			width: 100%;
			transition: all 0.2s;
			outline: none;
		}

		input:focus,
		select:focus {
			border-color: var(--accent-blue);
			box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
		}

		.input-cell {
			padding: 8px;
			width: 120px;
		}

		/* --- Results --- */
		.result-val {
			font-family: 'JetBrains Mono', monospace;
			font-weight: 700;
			font-size: 15px;
		}

		.result-pct {
			font-family: 'JetBrains Mono', monospace;
			font-weight: 700;
			font-size: 15px;
		}

		.text-green {
			color: var(--accent-green);
		}

		.text-orange {
			color: var(--accent-orange);
		}

		.text-red {
			color: var(--accent-red);
		}

		.tag {
			padding: 2px 6px;
			border-radius: 4px;
			font-size: 10px;
			font-weight: 700;
			text-transform: uppercase;
			margin-left: 6px;
			vertical-align: middle;
		}

		.tag-green {
			background: var(--accent-green-dim);
			color: var(--accent-green);
			border: 1px solid rgba(16, 185, 129, 0.2);
		}

		/* --- Specific Layouts --- */

		/* Size Calc */
		.grid-inputs {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
			gap: 16px;
			padding: 24px;
			background: rgba(0, 0, 0, 0.1);
			border-bottom: 1px solid var(--border-color);
		}

		.input-group label {
			display: block;
			font-size: 12px;
			color: var(--text-secondary);
			margin-bottom: 6px;
			font-weight: 600;
		}

		.input-group .unit {
			position: absolute;
			right: 10px;
			top: 50%;
			transform: translateY(-50%);
			color: var(--text-muted);
			font-size: 12px;
			pointer-events: none;
		}

		.input-wrapper {
			position: relative;
		}

		.result-big {
			font-size: 20px;
			font-weight: 800;
			font-family: 'JetBrains Mono', monospace;
		}

		.unit-label {
			font-size: 12px;
			color: var(--text-muted);
			margin-left: 4px;
			font-weight: normal;
			font-family: 'Inter', sans-serif;
		}

		/* Discount Calc */
		.discount-container {
			display: flex;
			flex-wrap: wrap;
			gap: 24px;
			padding: 24px;
		}

		.discount-box {
			flex: 1;
			background: var(--bg-body);
			border: 1px solid var(--border-color);
			border-radius: 12px;
			padding: 20px;
			min-width: 280px;
		}

		.box-title {
			font-size: 14px;
			font-weight: 700;
			color: var(--text-secondary);
			text-transform: uppercase;
			margin-bottom: 16px;
			padding-bottom: 10px;
			border-bottom: 1px solid var(--border-color);
		}

		.final-display {
			margin-top: 20px;
			background: rgba(59, 130, 246, 0.05);
			border: 1px solid rgba(59, 130, 246, 0.1);
			border-radius: 8px;
			padding: 16px;
			text-align: center;
		}

		.final-price {
			font-size: 32px;
			font-weight: 900;
			color: var(--accent-blue);
			line-height: 1;
			font-family: 'JetBrains Mono';
		}

		/* --- Utility --- */
		.hidden {
			display: none !important;
		}

		@media (max-width: 600px) {
			.tabs-wrapper {
				overflow-x: auto;
				justify-content: flex-start;
			}

			.tabs {
				width: 100%;
				display: flex;
			}

			.tab-btn {
				flex: 1;
				justify-content: center;
				white-space: nowrap;
			}

			th {
				display: none;
			}

			/* Hide headers on mobile for complex tables if needed, or scroll */
			.grid-inputs {
				grid-template-columns: 1fr 1fr;
			}
		}
	</style>
</head>

<body>

	<header>
		<h2>Amazon Toolbox</h2>
		<div class="subtitle">è¿è¥å…¨èƒ½å·¥å…·ç®± Pro V5.0</div>
	</header>

	<div class="container">

		<!-- Tab Navigation -->
		<div class="tabs-wrapper">
			<div class="tabs">
				<button class="tab-btn active" onclick="switchTab('bid')">
					<span class="material-symbols-outlined">payments</span>
					ç«ä»·è®¡ç®—
				</button>
				<button class="tab-btn" onclick="switchTab('size')">
					<span class="material-symbols-outlined">deployed_code</span>
					å°ºå¯¸é‡é‡
				</button>
				<button class="tab-btn" onclick="switchTab('coupon')">
					<span class="material-symbols-outlined">local_activity</span>
					ä¼˜æƒ åˆ¸
				</button>
				<button class="tab-btn" onclick="switchTab('discount')">
					<span class="material-symbols-outlined">percent</span>
					æŠ˜æ‰£è®¡ç®—
				</button>
			</div>
		</div>

		<!-- Content 1: Bid Calculator -->
		<div id="tab-bid" class="tab-content active">
			<!-- Forward -->
			<div class="card">
				<div class="card-header">
					<div class="icon-box bg-blue-g"><span class="material-symbols-outlined">trending_up</span></div>
					æ­£å‘è®¡ç®— (Bid + ç™¾åˆ†æ¯” = æœ€ç»ˆå‡ºä»·)
				</div>
				<div class="card-body">
					<div style="overflow-x: auto;">
						<table id="table-forward">
							<thead>
								<tr>
									<th width="15%">Base Bid ($)</th>
									<th width="25%">ç­–ç•¥ (Strategy)</th>
									<th width="25%">ä½ç½® (Placement)</th>
									<th width="15%">ç™¾åˆ†æ¯” (%)</th>
									<th width="20%">æœ€ç»ˆä¸Šé™ ($)</th>
								</tr>
							</thead>
							<tbody>
								<!-- Group 1: Fixed -->
								<tr class="bid-group-row">
									<td rowspan="3"
										style="border-right: 1px solid var(--border-color); vertical-align: top;">
										<input type="number" class="bid-input" value="1.00" min="0"
											onchange="formatCurrency(this); calcForward()" placeholder="1.00">
									</td>
									<td rowspan="3" class="strategy-cell" style="vertical-align: top;">
										å›ºå®šç«ä»·
										<small>Fixed Bids</small>
									</td>
									<td>é¦–é¡µé¡¶éƒ¨ (Top of Search)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.0" oninput="calcForward()"></td>
									<td><span class="result-val">0.00</span></td>
								</tr>
								<tr>
									<td>å•†å“é¡µé¢ (Product Pages)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.0" oninput="calcForward()"></td>
									<td><span class="result-val">0.00</span></td>
								</tr>
								<tr style="border-bottom: 2px solid var(--border-color);">
									<td>å…¶ä½™ä½ç½® (Rest of Search)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.0" oninput="calcForward()"></td>
									<td><span class="result-val">0.00</span></td>
								</tr>

								<!-- Group 2: Down Only -->
								<tr class="bid-group-row">
									<td rowspan="3"
										style="border-right: 1px solid var(--border-color); vertical-align: top;">
										<input type="number" class="bid-input" value="1.00" min="0"
											onchange="formatCurrency(this); calcForward()" placeholder="1.00">
									</td>
									<td rowspan="3" class="strategy-cell" style="vertical-align: top;">
										åŠ¨æ€ - åªé™ä½
										<small>Down Only</small>
									</td>
									<td>é¦–é¡µé¡¶éƒ¨ (Top)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.0" oninput="calcForward()"></td>
									<td><span class="result-val">0.00</span></td>
								</tr>
								<tr>
									<td>å•†å“é¡µé¢ (PP)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.0" oninput="calcForward()"></td>
									<td><span class="result-val">0.00</span></td>
								</tr>
								<tr style="border-bottom: 2px solid var(--border-color);">
									<td>å…¶ä½™ä½ç½® (ROS)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.0" oninput="calcForward()"></td>
									<td><span class="result-val">0.00</span></td>
								</tr>

								<!-- Group 3: Up & Down -->
								<tr class="bid-group-row">
									<td rowspan="3"
										style="border-right: 1px solid var(--border-color); vertical-align: top;">
										<input type="number" class="bid-input" value="1.00" min="0"
											onchange="formatCurrency(this); calcForward()" placeholder="1.00">
									</td>
									<td rowspan="3" class="strategy-cell" style="vertical-align: top;">
										åŠ¨æ€ - æé«˜&é™ä½
										<small style="color: var(--accent-orange);">Top x2 / Rest x1.5</small>
									</td>
									<td>é¦–é¡µé¡¶éƒ¨ (Top)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="2.0" oninput="calcForward()"></td>
									<td><span class="result-val text-green">0.00</span></td>
								</tr>
								<tr>
									<td>å•†å“é¡µé¢ (PP)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.5" oninput="calcForward()"></td>
									<td><span class="result-val text-green">0.00</span></td>
								</tr>
								<tr>
									<td>å…¶ä½™ä½ç½® (ROS)</td>
									<td class="input-cell"><input type="number" class="pct-input" value="0" min="0"
											data-mult="1.5" oninput="calcForward()"></td>
									<td><span class="result-val text-green">0.00</span></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<!-- Reverse -->
			<div class="card">
				<div class="card-header">
					<div class="icon-box bg-purple-g"><span class="material-symbols-outlined">calculate</span></div>
					åå‘æ¨å¯¼ (Bid + ç›®æ ‡ä»· = éœ€è¦çš„ç™¾åˆ†æ¯”)
				</div>
				<div class="card-body">
					<div style="overflow-x: auto;">
						<table id="table-reverse">
							<thead>
								<tr>
									<th width="15%">Base Bid ($)</th>
									<th width="25%">ç­–ç•¥</th>
									<th width="25%">ä½ç½®</th>
									<th width="15%">å»ºè®®è®¾ç½® (%)</th>
									<th width="20%">ç›®æ ‡ç«ä»· ($)</th>
								</tr>
							</thead>
							<tbody>
								<!-- Group 1 -->
								<tr class="bid-group-row">
									<td rowspan="3"
										style="border-right: 1px solid var(--border-color); vertical-align: top;">
										<input type="number" class="bid-input-r" value="1.00" min="0"
											onchange="formatCurrency(this); calcReverse()" placeholder="1.00">
									</td>
									<td rowspan="3" class="strategy-cell" style="vertical-align: top;">
										å›ºå®šç«ä»·
										<small>Fixed Bids</small>
									</td>
									<td>é¦–é¡µé¡¶éƒ¨ (Top)</td>
									<td><span class="result-pct">0%</span></td>
									<td class="input-cell"><input type="number" class="final-input" value="1.00" min="0"
											data-mult="1.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
								<tr>
									<td>å•†å“é¡µé¢ (PP)</td>
									<td><span class="result-pct">0%</span></td>
									<td class="input-cell"><input type="number" class="final-input" value="1.00" min="0"
											data-mult="1.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
								<tr style="border-bottom: 2px solid var(--border-color);">
									<td>å…¶ä½™ä½ç½® (ROS)</td>
									<td><span class="result-pct">0%</span></td>
									<td class="input-cell"><input type="number" class="final-input" value="1.00" min="0"
											data-mult="1.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>

								<!-- Group 2 -->
								<tr class="bid-group-row">
									<td rowspan="3"
										style="border-right: 1px solid var(--border-color); vertical-align: top;">
										<input type="number" class="bid-input-r" value="1.00" min="0"
											onchange="formatCurrency(this); calcReverse()" placeholder="1.00">
									</td>
									<td rowspan="3" class="strategy-cell" style="vertical-align: top;">
										åŠ¨æ€ - åªé™ä½
										<small>Down Only</small>
									</td>
									<td>é¦–é¡µé¡¶éƒ¨ (Top)</td>
									<td><span class="result-pct">0%</span></td>
									<td class="input-cell"><input type="number" class="final-input" value="1.00" min="0"
											data-mult="1.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
								<tr>
									<td>å•†å“é¡µé¢ (PP)</td>
									<td><span class="result-pct">0%</span></td>
									<td class="input-cell"><input type="number" class="final-input" value="1.00" min="0"
											data-mult="1.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
								<tr style="border-bottom: 2px solid var(--border-color);">
									<td>å…¶ä½™ä½ç½® (ROS)</td>
									<td><span class="result-pct">0%</span></td>
									<td class="input-cell"><input type="number" class="final-input" value="1.00" min="0"
											data-mult="1.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>

								<!-- Group 3 -->
								<tr class="bid-group-row">
									<td rowspan="3"
										style="border-right: 1px solid var(--border-color); vertical-align: top;">
										<input type="number" class="bid-input-r" value="1.00" min="0"
											onchange="formatCurrency(this); calcReverse()" placeholder="1.00">
									</td>
									<td rowspan="3" class="strategy-cell" style="vertical-align: top;">
										åŠ¨æ€ - æé«˜&é™ä½
										<small style="color: var(--accent-orange);">Top x2 / Rest x1.5</small>
									</td>
									<td>é¦–é¡µé¡¶éƒ¨ (Top)</td>
									<td>
										<span class="result-pct text-green">0%</span>
										<span class="err-msg"
											style="display:none; color:var(--accent-red); font-size:10px;">(ä½)</span>
									</td>
									<td class="input-cell"><input type="number" class="final-input" value="2.00" min="0"
											data-mult="2.0" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
								<tr>
									<td>å•†å“é¡µé¢ (PP)</td>
									<td>
										<span class="result-pct text-green">0%</span>
										<span class="err-msg"
											style="display:none; color:var(--accent-red); font-size:10px;">(ä½)</span>
									</td>
									<td class="input-cell"><input type="number" class="final-input" value="1.50" min="0"
											data-mult="1.5" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
								<tr>
									<td>å…¶ä½™ä½ç½® (ROS)</td>
									<td>
										<span class="result-pct text-green">0%</span>
										<span class="err-msg"
											style="display:none; color:var(--accent-red); font-size:10px;">(ä½)</span>
									</td>
									<td class="input-cell"><input type="number" class="final-input" value="1.50" min="0"
											data-mult="1.5" onchange="formatCurrency(this); calcReverse()"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<!-- Content 2: Size -->
		<div id="tab-size" class="tab-content">
			<div class="card">
				<div class="card-header">
					<div class="icon-box bg-purple-g"><span class="material-symbols-outlined">package_2</span></div>
					å°ºå¯¸ & é‡é‡æ¢ç®— (Metric â†” Imperial)
				</div>

				<div class="grid-inputs">
					<div class="input-group">
						<label>é•¿ Length (cm)</label>
						<div class="input-wrapper">
							<input type="number" id="l_cm" placeholder="0" min="0" oninput="calcSize()">
						</div>
					</div>
					<div class="input-group">
						<label>å®½ Width (cm)</label>
						<div class="input-wrapper">
							<input type="number" id="w_cm" placeholder="0" min="0" oninput="calcSize()">
						</div>
					</div>
					<div class="input-group">
						<label>é«˜ Height (cm)</label>
						<div class="input-wrapper">
							<input type="number" id="h_cm" placeholder="0" min="0" oninput="calcSize()">
						</div>
					</div>
					<div class="input-group">
						<label>å®é‡ Weight (kg)</label>
						<div class="input-wrapper">
							<input type="number" id="weight_kg" placeholder="0" min="0" oninput="calcSize()"
								style="border-color: var(--accent-orange);">
						</div>
					</div>
					<div class="input-group">
						<label>æç§¯ç³»æ•° Divisor</label>
						<select id="divisor" onchange="calcSize()">
							<option value="6000" selected>6000 (æµ·è¿/ä¸€èˆ¬)</option>
							<option value="5000">5000 (å¿«é€’/ç©ºæ´¾)</option>
						</select>
					</div>
				</div>

				<table style="margin-top:0;">
					<thead>
						<tr>
							<th width="20%">é¡¹ç›® (Item)</th>
							<th width="30%">å…¬åˆ¶ (Metric)</th>
							<th width="30%">è‹±åˆ¶ (Imperial)</th>
							<th>è¯´æ˜ (Note)</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td style="font-weight:600; color:var(--text-secondary);">ğŸ“ å°ºå¯¸ (Dim)</td>
							<td><span id="res_dim_cm" class="result-big" style="font-size:16px;">0 x 0 x 0</span><span
									class="unit-label">cm</span></td>
							<td><span id="res_dim_in" class="result-big"
									style="font-size:16px; color:var(--accent-blue);">0 x 0 x 0</span><span
									class="unit-label">in</span></td>
							<td style="font-size:12px; color:var(--text-muted);">1 in = 2.54 cm</td>
						</tr>
						<tr id="row-real">
							<td style="font-weight:600; color:var(--text-secondary);">âš–ï¸ å®é‡ (Actual)</td>
							<td><span id="res_act_kg" class="result-big">0.00</span><span class="unit-label">kg</span>
							</td>
							<td><span id="res_act_lb" class="result-big">0.00</span><span class="unit-label">lb</span>
							</td>
							<td style="font-size:12px; color:var(--text-muted);">1 kg = 2.2046 lb</td>
						</tr>
						<tr id="row-vol">
							<td style="font-weight:600; color:var(--text-secondary);">ğŸ§Š ä½“ç§¯é‡ (Vol)</td>
							<td><span id="res_vol_kg" class="result-big">0.00</span><span class="unit-label">kg</span>
							</td>
							<td><span id="res_vol_lb" class="result-big">0.00</span><span class="unit-label">lb</span>
							</td>
							<td style="font-size:12px; color:var(--text-muted);">Divisor: <span
									id="div_show">6000</span></td>
						</tr>
						<tr style="background: rgba(16, 185, 129, 0.05);">
							<td style="font-weight:bold; color:var(--accent-green);">ğŸ’° è®¡è´¹é‡ (Chargeable)</td>
							<td>
								<span id="res_chg_kg" class="result-big text-green"
									style="font-size:24px;">0.00</span><span class="unit-label">kg</span>
								<span id="tag_metric" class="tag tag-green" style="display:none;"></span>
							</td>
							<td>
								<span id="res_chg_lb" class="result-big text-green"
									style="font-size:24px;">0.00</span><span class="unit-label">lb</span>
								<span id="tag_imp" class="tag tag-green" style="display:none;"></span>
							</td>
							<td style="font-size:12px; color:var(--accent-green);">Max(å®é‡, ä½“ç§¯é‡)</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<!-- Content 3: Coupon -->
		<div id="tab-coupon" class="tab-content">
			<div class="card">
				<div class="card-header">
					<div class="icon-box bg-orange-g"><span class="material-symbols-outlined">confirmation_number</span>
					</div>
					ä¼˜æƒ åˆ¸è´¹ç”¨è®¡ç®— (2025æ–°è§„)
				</div>
				<div
					style="padding: 40px; text-align: center; background: linear-gradient(to bottom, var(--bg-card), rgba(249, 115, 22, 0.05)); border-bottom: 1px solid var(--border-color);">
					<div style="max-width: 400px; margin: 0 auto;">
						<label
							style="display:block; margin-bottom:10px; color:var(--text-secondary); font-weight:600;">ä¼˜æƒ åˆ¸å¸¦æ¥çš„é”€å”®æ€»é¢
							($)</label>
						<input type="number" id="coupon_sales" placeholder="è¾“å…¥é”€å”®é¢..." min="0"
							style="font-size: 28px; padding: 15px; text-align:center; border-color:var(--accent-orange);"
							oninput="calcCoupon()">
						<span style="font-size:13px; color: var(--text-muted); display:block; margin-top:10px;">Coupon
							Redemption Sales</span>
					</div>
				</div>
				<table>
					<thead>
						<tr>
							<th width="30%">è´¹ç”¨ç±»å‹ (Fee Type)</th>
							<th width="30%">è®¡ç®—æ–¹å¼ (Calculation)</th>
							<th width="40%">è´¹ç”¨é‡‘é¢ (Amount)</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>ğŸ“ é¢„ä»˜è´¹ç”¨ (Fixed)</td>
							<td>å›ºå®šæ”¶è´¹ $0.60 (Reference) / Actual $5<br><span
									style="font-size:10px; color:var(--text-muted);">*Demo hardcoded to 5.00</span></td>
							<td class="result-val">5.00</td>
						</tr>
						<tr>
							<td>ğŸ“Š æµ®åŠ¨è´¹ç”¨ (Variable)</td>
							<td> é”€å”®é¢ x 2.5% <span style="font-size:11px; color:var(--text-muted);">(Max $2,000)</span>
							</td>
							<td>
								<span id="res_coupon_var" class="result-val">0.00</span>
								<span id="coupon_cap_tag" class="tag"
									style="display:none; background:var(--accent-red); color:white;">MAX</span>
							</td>
						</tr>
						<tr style="background: rgba(249, 115, 22, 0.05);">
							<td style="font-weight:bold; color: var(--accent-orange);">ğŸ’° æ€»è´¹ç”¨ (Total)</td>
							<td style="font-size:12px; color:var(--text-muted);">é¢„ä»˜ + æµ®åŠ¨</td>
							<td style="font-size: 24px; font-weight: 800; color: var(--accent-orange);">$<span
									id="res_coupon_total">5.00</span></td>
						</tr>
						<tr>
							<td style="font-size:13px;">ğŸ“‰ ç»¼åˆè´¹ç‡å æ¯”</td>
							<td colspan="2" style="font-size:14px; font-weight:bold;">
								<span id="res_coupon_pct">0.00%</span>
								<span style="font-size:11px; color:var(--text-muted); font-weight:normal;">(æ€»è´¹ç”¨ Ã·
									é”€å”®é¢)</span>
							</td>
						</tr>
					</tbody>
				</table>
				<div style="padding: 16px; font-size: 13px; color: var(--text-muted); background: rgba(0,0,0,0.2);">
					<strong>è§„åˆ™è¯´æ˜:</strong> æ¯å¼ ä¼˜æƒ åˆ¸æ”¶å– $5 é¢„ä»˜å›ºå®šè´¹ + é”€å”®é¢çš„ 2.5% (ä¸Šé™ $2,000)ã€‚
				</div>
			</div>
		</div>

		<!-- Content 4: Discount -->
		<div id="tab-discount" class="tab-content">
			<div class="card">
				<div class="card-header">
					<div class="icon-box bg-green-g"><span class="material-symbols-outlined">sell</span></div>
					æŠ˜æ‰£/æ»¡å‡ä»·æ ¼è®¡ç®—å™¨
				</div>

				<div class="discount-container">
					<!-- Forward -->
					<div class="discount-box">
						<div class="box-title">ğŸ§® æ­£å‘è®¡ç®— (æ±‚æŠ˜åä»·)</div>
						<div class="input-group" style="margin-bottom:15px;">
							<label>å•†å“åŸä»· (Original Price)</label>
							<div class="input-wrapper"><input type="number" id="disc_price" value="29.99"
									oninput="calcDiscountForward()"></div>
						</div>

						<div style="display:flex; gap:15px; margin-bottom:15px;">
							<label
								style="cursor:pointer; display:flex; align-items:center; gap:5px; color:var(--text-secondary); font-size:13px;">
								<input type="radio" name="disc_type" value="pct" checked onchange="toggleDiscInput()"
									style="width:auto; margin:0;"> ç™¾åˆ†æ¯” (% Off)
							</label>
							<label
								style="cursor:pointer; display:flex; align-items:center; gap:5px; color:var(--text-secondary); font-size:13px;">
								<input type="radio" name="disc_type" value="amt" onchange="toggleDiscInput()"
									style="width:auto; margin:0;"> æ»¡å‡é‡‘é¢ ($ Off)
							</label>
						</div>

						<div class="input-group">
							<label id="disc_label">æŠ˜æ‰£åŠ›åº¦ (% Off)</label>
							<div class="input-wrapper"><input type="number" id="disc_val" value="20"
									oninput="calcDiscountForward()" style="border-color:var(--accent-green);"></div>
						</div>

						<div class="final-display">
							<div
								style="margin-bottom:5px; font-size:12px; color:var(--text-muted); font-weight:600; text-transform:uppercase;">
								Final Price</div>
							<div class="final-price">$<span id="res_disc_final">0.00</span></div>
							<div style="margin-top:5px; font-size:13px; color:var(--accent-green);">èŠ‚çœ: $<span
									id="res_disc_save">0.00</span></div>
						</div>
					</div>

					<!-- Reverse -->
					<div class="discount-box">
						<div class="box-title">ğŸ”„ åå‘æ¨å¯¼ (æ±‚æŠ˜æ‰£ç‡)</div>
						<div class="input-group" style="margin-bottom:15px;">
							<label>å•†å“åŸä»· (Original Price)</label>
							<div class="input-wrapper"><input type="number" id="rev_orig_price" value="29.99"
									oninput="calcDiscountReverse()"></div>
						</div>
						<div class="input-group">
							<label>ç›®æ ‡æŠ˜åä»· (Target Price)</label>
							<div class="input-wrapper"><input type="number" id="rev_target_price" value="19.99"
									oninput="calcDiscountReverse()"></div>
						</div>

						<div class="final-display"
							style="background: rgba(249, 115, 22, 0.05); border-color: rgba(249, 115, 22, 0.1);">
							<div
								style="margin-bottom:5px; font-size:12px; color:var(--text-muted); font-weight:600; text-transform:uppercase;">
								Equivalent Discount</div>
							<div class="final-price" style="color:var(--accent-orange);"><span
									id="res_rev_pct">0</span>% <span style="font-size:16px;">OFF</span></div>
							<div style="margin-top:5px; font-size:13px; color:var(--text-secondary);">ä¼˜æƒ é‡‘é¢: $<span
									id="res_rev_amt">0.00</span></div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<script>
		// --- Tabs ---
		function switchTab(tabId) {
			document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
			document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));

			document.getElementById('tab-' + tabId).classList.add('active');

			const btns = document.querySelectorAll('.tab-btn');
			if (tabId === 'bid') btns[0].classList.add('active');
			if (tabId === 'size') btns[1].classList.add('active');
			if (tabId === 'coupon') btns[2].classList.add('active');
			if (tabId === 'discount') btns[3].classList.add('active');
		}

		function getPositiveFloat(input) {
			let val = parseFloat(input.value);
			if (isNaN(val) || val < 0) return 0;
			return val;
		}

		// --- Bid Calc ---
		function formatCurrency(input) {
			let val = parseFloat(input.value);
			if (isNaN(val) || val < 0) val = 0;
			input.value = val.toFixed(2);
		}

		function calcForward() {
			const groups = document.querySelectorAll('#table-forward tbody tr.bid-group-row');
			groups.forEach(row1 => {
				const bidInput = row1.querySelector('.bid-input');
				const bid = getPositiveFloat(bidInput);

				const rows = [row1, row1.nextElementSibling, row1.nextElementSibling.nextElementSibling];
				rows.forEach(r => {
					const pctInput = r.querySelector('.pct-input');
					const resultSpan = r.querySelector('.result-val');
					const mult = parseFloat(pctInput.getAttribute('data-mult'));
					const pct = getPositiveFloat(pctInput);

					const final = bid * (1 + pct / 100) * mult;
					resultSpan.innerText = final.toFixed(2);
				});
			});
		}

		function calcReverse() {
			const groups = document.querySelectorAll('#table-reverse tbody tr.bid-group-row');
			groups.forEach(row1 => {
				const bidInput = row1.querySelector('.bid-input-r');
				const bid = getPositiveFloat(bidInput);

				const rows = [row1, row1.nextElementSibling, row1.nextElementSibling.nextElementSibling];
				rows.forEach(r => {
					const finalInput = r.querySelector('.final-input');
					const resultSpan = r.querySelector('.result-pct');
					const errMsg = r.querySelector('.err-msg');
					const mult = parseFloat(finalInput.getAttribute('data-mult'));
					const finalPrice = getPositiveFloat(finalInput);

					if (bid === 0) {
						resultSpan.innerText = "-";
						return;
					}
					let neededPct = (finalPrice / (bid * mult)) - 1;
					neededPct = neededPct * 100;
					let rounded = Math.round(neededPct);

					if (rounded < 0) {
						rounded = 0;
						resultSpan.style.color = '#ef4444';
						resultSpan.innerText = "0%";
						if (errMsg) errMsg.style.display = "inline";
					} else {
						if (errMsg) errMsg.style.display = "none";
						if (rounded > 900) resultSpan.style.color = '#f97316';
						else resultSpan.style.color = '#10b981';
						if (rounded === -0) rounded = 0;
						resultSpan.innerText = rounded + "%";
					}
				});
			});
		}

		// --- Size Calc ---
		function calcSize() {
			const l = getPositiveFloat(document.getElementById('l_cm'));
			const w = getPositiveFloat(document.getElementById('w_cm'));
			const h = getPositiveFloat(document.getElementById('h_cm'));
			const weightKg = getPositiveFloat(document.getElementById('weight_kg'));
			const divisor = parseFloat(document.getElementById('divisor').value) || 6000;

			const l_in = l / 2.54;
			const w_in = w / 2.54;
			const h_in = h / 2.54;
			const weightLb = weightKg * 2.20462;
			const volKg = (l * w * h) / divisor;
			const volLb = volKg * 2.20462;
			const chargeKg = Math.max(weightKg, volKg);
			const chargeLb = Math.max(weightLb, volLb);

			document.getElementById('res_dim_cm').innerText = `${l} x ${w} x ${h}`;
			document.getElementById('res_dim_in').innerText = `${l_in.toFixed(2)} x ${w_in.toFixed(2)} x ${h_in.toFixed(2)}`;

			document.getElementById('res_act_kg').innerText = weightKg.toFixed(2);
			document.getElementById('res_act_lb').innerText = weightLb.toFixed(2);

			document.getElementById('res_vol_kg').innerText = volKg.toFixed(2);
			document.getElementById('res_vol_lb').innerText = volLb.toFixed(2);
			document.getElementById('div_show').innerText = divisor;

			document.getElementById('res_chg_kg').innerText = chargeKg.toFixed(2);
			document.getElementById('res_chg_lb').innerText = chargeLb.toFixed(2);

			const tagMetric = document.getElementById('tag_metric');
			const tagImp = document.getElementById('tag_imp');

			if (volKg > weightKg) {
				tagMetric.style.display = 'inline-block'; tagMetric.innerText = "æŠ›è´§ (Vol)";
				tagImp.style.display = 'inline-block'; tagImp.innerText = "Volumetric";
				document.getElementById('row-vol').style.fontWeight = "bold";
				document.getElementById('row-real').style.fontWeight = "normal";
			} else if (weightKg > 0) {
				tagMetric.style.display = 'inline-block'; tagMetric.innerText = "å®é‡ (Act)";
				tagImp.style.display = 'inline-block'; tagImp.innerText = "Actual";
				document.getElementById('row-vol').style.fontWeight = "normal";
				document.getElementById('row-real').style.fontWeight = "bold";
			} else {
				tagMetric.style.display = 'none';
				tagImp.style.display = 'none';
			}
		}

		// --- Coupon Calc ---
		function calcCoupon() {
			const sales = getPositiveFloat(document.getElementById('coupon_sales'));
			const fixedFee = 5.00;
			let variableFee = sales * 0.025;

			const capTag = document.getElementById('coupon_cap_tag');
			if (variableFee > 2000) {
				variableFee = 2000;
				capTag.style.display = 'inline-block';
			} else {
				capTag.style.display = 'none';
			}

			const totalFee = fixedFee + variableFee;
			let feePct = 0;
			if (sales > 0) {
				feePct = (totalFee / sales) * 100;
			}

			document.getElementById('res_coupon_var').innerText = variableFee.toFixed(2);
			document.getElementById('res_coupon_total').innerText = totalFee.toFixed(2);
			document.getElementById('res_coupon_pct').innerText = feePct.toFixed(2) + "%";
		}

		// --- Discount Calc ---
		function toggleDiscInput() {
			const type = document.querySelector('input[name="disc_type"]:checked').value;
			const label = document.getElementById('disc_label');
			if (type === 'pct') {
				label.innerText = 'æŠ˜æ‰£åŠ›åº¦ (% Off)';
				document.getElementById('disc_val').value = "20";
			} else {
				label.innerText = 'æ»¡å‡é‡‘é¢ ($ Off)';
				document.getElementById('disc_val').value = "5.00";
			}
			calcDiscountForward();
		}

		function calcDiscountForward() {
			const price = getPositiveFloat(document.getElementById('disc_price'));
			const val = getPositiveFloat(document.getElementById('disc_val'));
			const type = document.querySelector('input[name="disc_type"]:checked').value;

			let finalPrice = 0;
			let saveAmount = 0;

			if (type === 'pct') {
				saveAmount = price * (val / 100);
				finalPrice = price - saveAmount;
			} else {
				saveAmount = val;
				finalPrice = price - val;
			}

			if (finalPrice < 0) finalPrice = 0;

			document.getElementById('res_disc_save').innerText = saveAmount.toFixed(2);
			document.getElementById('res_disc_final').innerText = finalPrice.toFixed(2);
		}

		function calcDiscountReverse() {
			const orig = getPositiveFloat(document.getElementById('rev_orig_price'));
			const target = getPositiveFloat(document.getElementById('rev_target_price'));

			if (orig <= 0) return;

			const diff = orig - target;
			const pct = (diff / orig) * 100;

			document.getElementById('res_rev_pct').innerText = pct.toFixed(1);
			document.getElementById('res_rev_amt').innerText = diff.toFixed(2);
		}

		// Init
		calcForward();
		calcSize();     
	</script>

</body>

</html>